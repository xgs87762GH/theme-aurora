<div
  class="w-full overflow-hidden rounded-xl bg-white p-3 shadow transition-all duration-500 hover:shadow-md dark:bg-slate-800"
>
  <h2 class="inline-flex items-center gap-2 text-base dark:text-slate-50">
    <span 
      th:with="iconName=${widgetConfig != null and not #strings.isEmpty(widgetConfig.icon) ? widgetConfig.icon : 'tabler:category'},iconClass=${#strings.contains(iconName, ':') ? #strings.concat('i-', #strings.replace(iconName, ':', '-')) : (#strings.startsWith(iconName, 'i-') ? iconName : #strings.concat('i-', iconName))}"
      th:classappend="${iconClass}"
      class="text-lg"
    ></span>
    <th:block th:if="${widgetConfig != null and not #strings.isEmpty(widgetConfig.title)}" th:text="${widgetConfig.title}"></th:block>
    <th:block th:unless="${widgetConfig != null and not #strings.isEmpty(widgetConfig.title)}" th:text="#{widget.categories.title}"></th:block>
  </h2>
  <div class="mt-2" th:with="categories = ${categoryFinder.listAsTree()}">
    <ul class="space-y-1">
      <li th:each="category : ${categories}">
        <a
          th:href="@{${category.status.permalink}}"
          class="flex items-center justify-between py-1 text-sm text-gray-600 hover:text-gray-900 dark:text-slate-300 dark:hover:text-slate-100"
        >
          <span th:text="${category.spec.displayName}"></span>
          <span class="text-xs text-gray-400 dark:text-slate-500" th:text="${category.postCount ?: 0}"></span>
        </a>
      </li>
    </ul>
  </div>
</div>

