/* ============================================
   Component Styles - 组件样式
   ============================================ */

/* Post Card - 文章卡片 */
.aurora-post-card {
  display: flex;
  flex-direction: column; /* 默认上下布局：图片在上，内容在下 */
  overflow: hidden;
  background-color: white;
  transition: all 0.5s ease;
}

.dark .aurora-post-card {
  background-color: rgb(30, 41, 59);
}

/* Card Styles - 卡片样式 */
.aurora-post-card.style-default {
  border-radius: 0.75rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.aurora-post-card.style-default:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.aurora-post-card.style-minimal {
  border-radius: 0.5rem;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.aurora-post-card.style-minimal:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.aurora-post-card.style-rounded {
  border-radius: 1rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.aurora-post-card.style-rounded:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.aurora-post-card.style-flat {
  border-radius: 0;
  box-shadow: none;
  border: 1px solid rgb(229, 231, 235);
}

.dark .aurora-post-card.style-flat {
  border-color: rgb(51, 65, 85);
}

.aurora-post-card.style-bordered {
  border-radius: 0.5rem;
  border: 2px solid rgb(229, 231, 235);
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.aurora-post-card.style-bordered:hover {
  border-color: #16baaa;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.dark .aurora-post-card.style-bordered {
  border-color: rgb(51, 65, 85);
}

.dark .aurora-post-card.style-bordered:hover {
  border-color: rgb(96, 165, 250);
}

/* Card Animations - 卡片动画 */
.aurora-post-card.animation-hover-lift:hover {
  transform: translateY(-4px);
}

.aurora-post-card.animation-hover-scale:hover {
  transform: scale(1.05);
}

.aurora-post-card.animation-hover-shadow:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.aurora-post-card.animation-combined:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Card Image - 卡片图片 */
.aurora-post-card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.aurora-post-card:hover .aurora-post-card-image.scale-on-hover {
  transform: scale(1.05);
}

/* Card Content - 卡片内容 */
.aurora-post-card-content {
  display: flex;
  flex-direction: column;
  padding: 1rem;
  gap: 0.5rem;
}

/* Card Direction - 卡片方向 */
.aurora-post-card.direction-column {
  display: grid;
  grid-template-columns: 1fr;
}

@media (min-width: 640px) {
  .aurora-post-card.direction-column {
    grid-template-columns: 2fr 3fr;
  }
}

.aurora-post-card.direction-column .aurora-post-card-image-wrapper {
  grid-column: 1;
}

@media (min-width: 640px) {
  .aurora-post-card.direction-column .aurora-post-card-image-wrapper {
    grid-column: 1;
  }
}

.aurora-post-card.direction-column .aurora-post-card-content {
  grid-column: 2;
}

@media (min-width: 640px) {
  .aurora-post-card.direction-column .aurora-post-card-content {
    grid-column: 2;
  }
}

/* direction-row: 横向布局（图片在左，内容在右，图片占满高度） */
.aurora-post-card.direction-row {
  display: flex;
  flex-direction: row;
  align-items: stretch;
}

.aurora-post-card.direction-row .aurora-post-card-image-wrapper {
  width: 40%;
  min-width: 200px;
  flex-shrink: 0;
  height: 100%;
  aspect-ratio: auto;
}

.aurora-post-card.direction-row .aurora-post-card-image-wrapper img,
.aurora-post-card.direction-row .aurora-post-card-image-wrapper .aurora-post-card-placeholder-link {
  height: 100%;
  object-fit: cover;
}

.aurora-post-card.direction-row .aurora-post-card-content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.aurora-post-card.direction-list {
  display: flex;
  flex-direction: row;
}

.aurora-post-card.direction-list .aurora-post-card-image-wrapper {
  width: 12rem;
  flex-shrink: 0;
  aspect-ratio: auto;
}

.aurora-post-card.direction-list .aurora-post-card-content {
  flex: 1;
  min-width: 0;
}

/* Sidebar Widget - 侧边栏组件 */
.aurora-sidebar-widget {
  margin-bottom: 1.5rem;
  padding: 1.5rem;
  background-color: white;
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

.dark .aurora-sidebar-widget {
  background-color: rgb(30, 41, 59);
}

.aurora-sidebar-widget-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: rgb(17, 24, 39);
}

.dark .aurora-sidebar-widget-title {
  color: rgb(241, 245, 249);
}

/* Scroll to Top Button - 返回顶部按钮 */
#btn-scroll-to-top {
  transition: opacity 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  cursor: pointer;
  pointer-events: auto;
}

#btn-scroll-to-top:hover {
  transform: translateY(-2px);
}

#btn-scroll-to-top:active {
  transform: translateY(0);
}

/* Table of Contents - 目录 */
.toc a {
  display: block;
  transition: color 0.2s ease-in-out;
}

/* Pattern Header Text - 图案标题文字 */
.pattern-header-text {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* ============================================
   Header & Navigation - 导航栏样式
   ============================================ */

/* Header Container - 导航栏容器 */
#header-menu {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  background-color: rgba(255, 255, 255, 0.95);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
}

.dark #header-menu {
  background-color: rgba(31, 41, 55, 0.95);
  border-bottom-color: rgba(255, 255, 255, 0.1);
}

/* Header Container - 导航栏内容容器，与内容区域对齐 */
/* 与 aurora-body 保持一致的宽度设置 */
.aurora-header-container {
  width: 100%;
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box;
}

/* 移动端：全屏 */
@media (max-width: 767px) {
  .aurora-header-container {
    width: 100%;
    max-width: 100%;
  }
}

/* 桌面端：70% 宽度，最大 1000px */
@media (min-width: 1024px) {
  .aurora-header-container {
    width: 70%;
    max-width: 1000px;
  }
}

/* 大屏桌面：68% 宽度，最大 1200px */
@media (min-width: 1280px) {
  .aurora-header-container {
    width: 68%;
    max-width: 1200px;
  }
}

/* 超大屏：65% 宽度，最大 1400px */
@media (min-width: 1536px) {
  .aurora-header-container {
    width: 65%;
    max-width: 1400px;
  }
}

/* Logo - Logo样式 */
#header-menu .logo {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

#header-menu .logo img {
  max-height: 100%;
  object-fit: contain;
  transition: transform 0.3s ease;
}

#header-menu .logo:hover img {
  transform: scale(1.05);
}

#header-menu #site-title {
  font-weight: 600;
  letter-spacing: -0.025em;
  transition: color 0.2s ease;
  text-align: left;
}

#header-menu #site-title:hover {
  color: #16baaa;
}

.dark #header-menu #site-title:hover {
  color: rgb(96, 165, 250);
}

/* Navigation Menu - 导航菜单 */
#header-menu nav ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

#header-menu nav > ul > li {
  position: relative;
}

#header-menu nav > ul > li > a {
  position: relative;
  display: inline-block;
  padding: 0.5rem 0;
  font-size: 0.9375rem; /* 15px - 增大字体 */
  font-weight: 500;
  transition: color 0.2s ease;
}

#header-menu nav > ul > li > a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background-color: #16baaa;
  transition: width 0.3s ease;
}

#header-menu nav > ul > li:hover > a::after,
#header-menu nav > ul > li > a.text-blue-600::after,
#header-menu nav > ul > li > a.dark\:text-blue-400::after {
  width: 100%;
}

.dark #header-menu nav > ul > li > a::after {
  background-color: rgb(96, 165, 250);
}

/* Menu Dropdown - 菜单下拉 */
.menu-dropdown {
  min-width: 160px;
  max-width: 240px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-8px);
  transition: all 0.2s ease;
}

.menu-dropdown[x-show="true"],
.menu-dropdown.show {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.menu-dropdown li {
  transition: background-color 0.2s ease;
}

.menu-dropdown li a {
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  transition: all 0.2s ease;
}

.menu-dropdown li:hover {
  background-color: rgb(249, 250, 251);
}

.dark .menu-dropdown li:hover {
  background-color: rgb(51, 65, 85);
}

/* Mobile Menu - 移动端菜单 */
#header-menu .mobile-menu-overlay {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

#header-menu .mobile-menu-panel {
  max-height: calc(100vh - 4rem);
  overflow-y: auto;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

#header-menu .mobile-menu-panel nav ul li {
  border-bottom: 1px solid rgb(243, 244, 246);
}

.dark #header-menu .mobile-menu-panel nav ul li {
  border-bottom-color: rgb(30, 41, 59);
}

#header-menu .mobile-menu-panel nav ul li a {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 0;
  transition: color 0.2s ease;
}

#header-menu .mobile-menu-panel nav ul li a:hover {
  color: #16baaa;
}

.dark #header-menu .mobile-menu-panel nav ul li a:hover {
  color: rgb(96, 165, 250);
}

#header-menu .mobile-menu-panel nav ul li ul {
  margin-top: 0.5rem;
  padding-left: 1rem;
  border-left: 2px solid rgb(229, 231, 235);
}

.dark #header-menu .mobile-menu-panel nav ul li ul {
  border-left-color: rgb(51, 65, 85);
}

#header-menu .mobile-menu-panel nav ul li ul li {
  border-bottom: none;
}

#header-menu .mobile-menu-panel nav ul li ul li a {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  color: rgb(107, 114, 128);
}

.dark #header-menu .mobile-menu-panel nav ul li ul li a {
  color: rgb(148, 163, 184);
}

/* Header Actions - 导航栏操作按钮 */
#header-menu .header-actions {
  display: flex;
  align-items: center;
  gap: 1rem;
}

#header-menu .header-actions li {
  display: flex;
  align-items: center;
  justify-content: center;
}

#header-menu .header-actions a,
#header-menu .header-actions button {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-radius: 0.375rem;
  transition: all 0.2s ease;
}

#header-menu .header-actions a:hover,
#header-menu .header-actions button:hover {
  background-color: rgb(243, 244, 246);
  color: #16baaa;
}

.dark #header-menu .header-actions a:hover,
.dark #header-menu .header-actions button:hover {
  background-color: rgb(51, 65, 85);
  color: rgb(96, 165, 250);
}

/* User Avatar - 用户头像 */
#header-menu .user-avatar {
  border: 2px solid transparent;
  transition: all 0.2s ease;
}

#header-menu .user-avatar:hover {
  border-color: #16baaa;
  box-shadow: 0 0 0 2px rgba(22, 186, 170, 0.1);
}

.dark #header-menu .user-avatar:hover {
  border-color: rgb(96, 165, 250);
  box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.1);
}

/* Responsive - 响应式 */
@media (max-width: 640px) {
  #header-menu {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  #header-menu nav > ul {
    gap: 1.5rem;
  }
}

/* ============================================
   Post List Layout - 文章列表布局样式
   ============================================ */

/* Base Post List - 基础文章列表 */
.aurora-post-list {
  display: grid;
  gap: 1.5rem;
}

.aurora-post-list.grid-2 {
  grid-template-columns: 1fr;
}

.aurora-post-list.grid-3 {
  grid-template-columns: 1fr;
}

.aurora-post-list.grid-4 {
  grid-template-columns: 1fr;
}

.aurora-post-list.single {
  grid-template-columns: 1fr;
}

.aurora-post-list.list {
  display: flex;
  flex-direction: column;
}

.aurora-post-list.masonry {
  column-count: 1;
  column-gap: 1.5rem;
}

/* Responsive Post List - 响应式文章列表 */
@media (min-width: 640px) {
  .aurora-post-list.grid-2 {
    grid-template-columns: repeat(2, 1fr);
  }

  .aurora-post-list.grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }

  .aurora-post-list.masonry {
    column-count: 2;
  }
}

@media (min-width: 768px) {
  .aurora-post-list.grid-3 {
    grid-template-columns: repeat(2, 1fr);
  }

  .aurora-post-list.grid-4 {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1024px) {
  .aurora-post-list.grid-3 {
    grid-template-columns: repeat(3, 1fr);
  }

  .aurora-post-list.grid-4 {
    grid-template-columns: repeat(4, 1fr);
  }

  .aurora-post-list.masonry {
    column-count: 3;
  }
}

@media (min-width: 1280px) {
  .aurora-post-list.masonry {
    column-count: 4;
  }
}

/* Card Gap - 卡片间距 */
.aurora-post-list.gap-tight {
  gap: 0.75rem;
}

.aurora-post-list.gap-medium {
  gap: 1.5rem;
}

.aurora-post-list.gap-loose {
  gap: 2rem;
}

.aurora-post-list.gap-extra-loose {
  gap: 3rem;
}

/* Masonry Layout - 瀑布流布局 */
.aurora-post-list.masonry > * {
  break-inside: avoid;
  margin-bottom: 1.5rem;
  display: inline-block;
  width: 100%;
}

/* ============================================
   Home Page Optimizations - 主页优化样式
   ============================================ */

/* 全局背景样式（当启用 use_banner_as_background 时） */
.aurora-global-background {
  background-attachment: fixed !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  position: relative;
  background-color: transparent !important;
}

/* 全局背景遮罩层，确保内容可读性 */
.aurora-global-background::before {
  content: '';
  position: fixed;
  inset: 0;
  background: rgba(248, 250, 252, 0.85);
  z-index: -1;
  pointer-events: none;
}

.dark .aurora-global-background::before {
  background: rgba(15, 23, 42, 0.85);
}

/* 确保内容区域在全局背景上正确显示 */
.aurora-global-background > * {
  position: relative;
  z-index: 1;
}

/* 全屏 Banner 滚动时的放大淡出效果（当未启用全局背景时） */
.aurora-top-banner-full {
  position: relative;
  overflow: hidden;
  transition: background-size 0.5s ease-out, opacity 0.5s ease-out;
}

/* 图片背景在滚动时的效果（仅非全局背景模式） */
.aurora-top-banner-full.scrolling {
  background-size: 120% !important;
  opacity: 0;
}

/* 轮播背景在滚动时的效果 */
.aurora-top-banner-full.aurora-banner-carousel .aurora-banner-carousel-container {
  transition: transform 0.5s ease-out, opacity 0.5s ease-out;
  will-change: transform, opacity;
}

.aurora-top-banner-full.aurora-banner-carousel.scrolling .aurora-banner-carousel-container {
  transform: scale(1.2);
  opacity: 0;
}

.aurora-top-banner-full.aurora-banner-carousel .aurora-banner-carousel-slide {
  transition: transform 0.5s ease-out, opacity 0.5s ease-out;
}

.aurora-top-banner-full.aurora-banner-carousel.scrolling .aurora-banner-carousel-slide {
  transform: scale(1.2);
  opacity: 0;
}

/* 视频背景在滚动时的效果 */
.aurora-top-banner-full.aurora-banner-video .aurora-banner-video-element {
  transition: transform 0.5s ease-out, opacity 0.5s ease-out;
  will-change: transform, opacity;
}

.aurora-top-banner-full.aurora-banner-video.scrolling .aurora-banner-video-element {
  transform: scale(1.2);
  opacity: 0;
}

/* Top Banner Enhancements - 顶部大图增强（参考 MEGO 主题） */
.aurora-top-banner {
  position: relative;
  overflow: hidden;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transform-origin: center top;
  will-change: transform;
  transition: transform 0.1s ease-out;
}

/* 全屏 Banner 样式（参考 MEGO 主题） */
.aurora-top-banner-full {
  min-height: 100vh;
  height: 100vh;
  background-attachment: scroll;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/* Banner 固定为背景 */
.aurora-banner-fixed {
  position: fixed !important;
  top: 0;
  left: 0;
  right: 0;
  z-index: 0;
  width: 100%;
  height: 100vh;
  background-attachment: fixed;
  background-size: cover;
  background-position: center;
}

/* 当 banner 固定时，确保内容区域正确叠加 */
body:has(.aurora-banner-fixed) .aurora-three-column {
  position: relative;
  z-index: 10;
}

/* Banner 占位元素（防止布局跳动） */
.aurora-banner-placeholder {
  width: 100%;
  pointer-events: none;
  flex-shrink: 0;
}

/* Banner 轮播容器 */
.aurora-banner-carousel-container {
  position: absolute;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

.aurora-banner-carousel-slides {
  position: relative;
  width: 100%;
  height: 100%;
}

.aurora-banner-carousel-slide {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: opacity 1s ease-in-out;
}

/* Banner 视频背景 */
.aurora-banner-video-element {
  position: absolute;
  inset: 0;
  z-index: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Banner 遮罩层（参考 MEGO 主题的渐变效果） */
.aurora-top-banner-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.1) 0%,
    rgba(0, 0, 0, 0.3) 50%,
    rgba(0, 0, 0, 0.6) 100%
  );
  z-index: 1;
  transition: opacity 0.3s ease;
}

/* Banner 内容容器（参考 MEGO 主题的居中布局） */
.aurora-top-banner-content {
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  animation: fadeInUp 0.8s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 全屏 Banner 内容区域优化 */
.aurora-top-banner-full .aurora-top-banner-content {
  max-width: 1200px;
  margin: 0 auto;
  text-align: center;
}

/* Scroll Indicator - 滚动提示按钮（参考 MEGO 主题） */
.aurora-scroll-indicator {
  position: absolute;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  transition: opacity 0.3s ease;
}

.aurora-scroll-down-btn {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 3.5rem;
  height: 3.5rem;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  animation: scrollBounce 2s ease-in-out infinite;
}

.aurora-scroll-down-btn:hover {
  background: rgba(255, 255, 255, 0.25);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.dark .aurora-scroll-down-btn {
  background: rgba(30, 41, 59, 0.4);
  border-color: rgba(148, 163, 184, 0.3);
}

.dark .aurora-scroll-down-btn:hover {
  background: rgba(30, 41, 59, 0.6);
  border-color: rgba(148, 163, 184, 0.5);
}

@keyframes scrollBounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* Featured Post Card Enhancements - 特色文章卡片增强 */
.aurora-featured-post-card {
  position: relative;
  overflow: hidden;
  border-radius: 1rem;
  background: white;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.dark .aurora-featured-post-card {
  background: rgb(30, 41, 59);
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3),
    0 10px 10px -5px rgba(0, 0, 0, 0.2);
}

.aurora-featured-post-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.15),
    0 15px 20px -10px rgba(0, 0, 0, 0.1);
}

.dark .aurora-featured-post-card:hover {
  box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.4),
    0 15px 20px -10px rgba(0, 0, 0, 0.3);
}

.aurora-featured-post-card img {
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.aurora-featured-post-card:hover img {
  transform: scale(1.08);
}

/* Post Card Enhancements - 文章卡片增强 */
.aurora-post-card {
  position: relative;
  overflow: hidden;
  background: white;
  border-radius: 0.75rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow;
}

.dark .aurora-post-card {
  background: rgb(30, 41, 59);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
    0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

.aurora-post-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #16baaa, #1e9fff, #16b777);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 1;
}

.aurora-post-card:hover::before {
  opacity: 1;
}

.aurora-post-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px -6px rgba(0, 0, 0, 0.15),
    0 8px 16px -4px rgba(0, 0, 0, 0.1);
}

.dark .aurora-post-card:hover {
  box-shadow: 0 12px 24px -6px rgba(0, 0, 0, 0.4),
    0 8px 16px -4px rgba(0, 0, 0, 0.3);
}

.aurora-post-card-image-wrapper {
  position: relative;
  overflow: hidden;
  border-radius: 0.75rem 0.75rem 0 0;
}

.aurora-post-card-image-wrapper img {
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
}

.aurora-post-card:hover .aurora-post-card-image-wrapper img {
  transform: scale(1.05);
}

/* Post List Grid Enhancements - 文章列表网格增强 */
.aurora-post-list {
  display: grid;
  gap: 1.5rem;
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.aurora-post-list > * {
  animation: slideInUp 0.5s ease-out backwards;
}

.aurora-post-list > *:nth-child(1) {
  animation-delay: 0.1s;
}

.aurora-post-list > *:nth-child(2) {
  animation-delay: 0.2s;
}

.aurora-post-list > *:nth-child(3) {
  animation-delay: 0.3s;
}

.aurora-post-list > *:nth-child(4) {
  animation-delay: 0.4s;
}

.aurora-post-list > *:nth-child(5) {
  animation-delay: 0.5s;
}

.aurora-post-list > *:nth-child(n + 6) {
  animation-delay: 0.6s;
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Post Card Content Enhancements - 文章卡片内容增强 */
.aurora-post-card-content {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

/* Post Title - 文章标题 */
.aurora-post-title a {
  display: inline-block;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  background: linear-gradient(120deg, transparent 0%, transparent 100%);
  background-size: 0% 2px;
  background-position: 0% 100%;
  background-repeat: no-repeat;
}

.aurora-post-title a:hover {
  background-size: 100% 2px;
}

/* Post Excerpt - 文章摘要 */
.aurora-post-excerpt {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Post Category - 文章分类 */
.aurora-post-category {
  transition: all 0.2s ease;
}

.aurora-post-category:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
}

/* Post Tag - 文章标签 */
.aurora-post-tag {
  transition: all 0.2s ease;
}

.aurora-post-tag:hover {
  transform: translateY(-1px);
}

/* Post Meta - 文章元信息 */
.aurora-post-meta {
  margin-top: auto;
}

/* Post Stats - 文章统计信息 */
.aurora-post-stats {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.aurora-post-stat {
  transition: all 0.2s ease;
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
}

.aurora-post-stat span[class*="i-tabler"] {
  display: inline-block;
  width: 1em;
  height: 1em;
  flex-shrink: 0;
  vertical-align: middle;
}

/* 确保 Iconify 图标正确显示 */
.aurora-post-stat [class*="i-tabler"] {
  display: inline-block;
  width: 1em;
  height: 1em;
  flex-shrink: 0;
  vertical-align: middle;
}

.aurora-post-stat:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.dark .aurora-post-stat:hover {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Author Avatar - 作者头像 */
.aurora-post-author-avatar {
  display: inline-block;
  transition: all 0.3s ease;
}

.aurora-post-author-avatar:hover {
  transform: scale(1.1);
}

/* Author Avatar - 作者头像 */
.aurora-post-card-content img[alt*='avatar'],
.aurora-post-card-content img[alt*='Avatar'] {
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.aurora-post-card-content img[alt*='avatar']:hover,
.aurora-post-card-content img[alt*='Avatar']:hover {
  transform: scale(1.1);
  border-color: #16baaa;
  box-shadow: 0 4px 12px rgba(22, 186, 170, 0.3);
}

/* Empty State - 空状态 */
.aurora-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
  animation: fadeIn 0.5s ease-out;
}

.aurora-empty-state svg,
.aurora-empty-state .i-tabler-file-off {
  opacity: 0.5;
  transition: opacity 0.3s ease;
}

.aurora-empty-state:hover svg,
.aurora-empty-state:hover .i-tabler-file-off {
  opacity: 0.8;
}

/* Pagination Enhancements - 分页增强 */
.aurora-pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 3rem;
  padding: 1rem 0;
}

.aurora-pagination a,
.aurora-pagination span {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 2.5rem;
  height: 2.5rem;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-weight: 500;
  transition: all 0.2s ease;
  text-decoration: none;
}

.aurora-pagination a {
  background: white;
  color: #374151;
  border: 1px solid #e5e7eb;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.dark .aurora-pagination a {
  background: rgb(30, 41, 59);
  color: rgb(241, 245, 249);
  border-color: rgb(51, 65, 85);
}

.aurora-pagination a:hover {
  background: #16baaa;
  color: white;
  border-color: #16baaa;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(22, 186, 170, 0.3);
}

.dark .aurora-pagination a:hover {
  background: #60a5fa;
  border-color: #60a5fa;
}

.aurora-pagination span {
  background: #f3f4f6;
  color: #6b7280;
  border: 1px solid #e5e7eb;
}

.dark .aurora-pagination span {
  background: rgb(51, 65, 85);
  color: rgb(148, 163, 184);
  border-color: rgb(51, 65, 85);
}

/* Site Title in Banner - 横幅中的站点标题 */
.aurora-top-banner-content .text-5xl {
  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5),
    0 0 20px rgba(255, 255, 255, 0.1);
  letter-spacing: -0.02em;
  font-weight: 700;
  transition: all 0.3s ease;
}

.aurora-top-banner-content:hover .text-5xl {
  text-shadow: 2px 2px 12px rgba(0, 0, 0, 0.6),
    0 0 30px rgba(255, 255, 255, 0.2);
  transform: scale(1.02);
}

/* Post Grid Layout - 文章网格布局优化 */
.aurora-post-list.grid-2,
.aurora-post-list.grid-3,
.aurora-post-list.grid-4 {
  grid-auto-rows: minmax(320px, auto);
}

.aurora-post-list.grid-2 > *,
.aurora-post-list.grid-3 > *,
.aurora-post-list.grid-4 > * {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Latest Post Grid Container - 最新文章网格容器（首页顶部） */
.aurora-post-grid-container {
  display: grid;
  gap: clamp(0.5rem, 1.5vw, 1rem);
  padding: clamp(0.5rem, 1.5vh, 1rem) clamp(1rem, 2vw, 1.5rem);
}

/* 全屏模式 - 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-full .aurora-post-grid-container {
    gap: clamp(0.375rem, 1vw, 0.75rem);
    padding: clamp(0.375rem, 1vh, 0.75rem) clamp(0.75rem, 1.5vw, 1rem);
  }
}

/* 全屏模式 - 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-full .aurora-post-grid-container {
    gap: clamp(0.5rem, 1.2vw, 1rem);
    padding: clamp(0.5rem, 1.2vh, 1rem) clamp(1rem, 1.8vw, 1.5rem);
  }
}

/* 全屏模式 - PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-full .aurora-post-grid-container {
    gap: clamp(0.75rem, 1.5vw, 1.5rem);
    padding: clamp(0.75rem, 1.5vh, 1.5rem) clamp(1.25rem, 2.5vw, 2rem);
  }
}

/* Banner 卡片特殊布局：上下排列（图片在上，内容在下） */
.aurora-post-grid-container > div:first-child .aurora-post-card.direction-column,
.aurora-post-grid-container > div:last-child .aurora-post-card.direction-column,
.aurora-banner-post-card-small.direction-column {
  display: flex;
  flex-direction: column;
}

.aurora-post-grid-container > div:first-child .aurora-post-card.direction-column .aurora-post-card-image-wrapper,
.aurora-post-grid-container > div:last-child .aurora-post-card.direction-column .aurora-post-card-image-wrapper,
.aurora-banner-post-card-small.direction-column .aurora-post-card-image-wrapper,
.aurora-banner-small-image-wrapper {
  width: 100%;
}

/* Banner 右侧小卡片：图片高度占 55% */
.aurora-banner-small-image-wrapper {
  height: 55%;
  min-height: 55%;
  max-height: 55%;
}

/* Banner 右侧小卡片内容区域优化 */
.aurora-banner-post-card-small .aurora-post-card-content {
  padding: 0.75rem;
  gap: 0.5rem;
  overflow: hidden;
}

.aurora-banner-post-card-small .aurora-post-title {
  font-size: 0.875rem;
  line-height: 1.375;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-word;
  max-height: calc(0.875rem * 1.375 * 2); /* 固定两行高度 */
}

.aurora-banner-post-card-small .aurora-post-title a {
  display: block;
  cursor: help;
}

/* 悬浮提示框样式（小字） */
.aurora-banner-post-card-small .aurora-post-title a[title]:hover::after {
  content: attr(title);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 0.5rem;
  padding: 0.375rem 0.5rem;
  background-color: rgba(0, 0, 0, 0.85);
  color: white;
  font-size: 0.75rem;
  line-height: 1.25;
  white-space: normal;
  word-wrap: break-word;
  max-width: 200px;
  border-radius: 0.25rem;
  z-index: 50;
  pointer-events: none;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.aurora-banner-post-card-small .aurora-post-title a[title]:hover::before {
  content: '';
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 0.25rem;
  border: 4px solid transparent;
  border-top-color: rgba(0, 0, 0, 0.85);
  z-index: 51;
  pointer-events: none;
}

.aurora-post-grid-container > div:first-child .aurora-post-card.direction-column .aurora-post-card-content,
.aurora-post-grid-container > div:last-child .aurora-post-card.direction-column .aurora-post-card-content,
.aurora-banner-post-card-small.direction-column .aurora-post-card-content {
  width: 100%;
}

/* 大卡片样式优化 - 全屏模式 */
.aurora-post-grid-container > div:first-child .aurora-post-card {
  min-height: clamp(200px, 25vh, 280px);
  max-height: clamp(240px, 30vh, 320px);
  border-radius: 0.75rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 全屏模式 - 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card {
    min-height: clamp(180px, 20vh, 240px);
    max-height: clamp(220px, 25vh, 280px);
  }
}

/* 全屏模式 - 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card {
    min-height: clamp(220px, 22vh, 280px);
    max-height: clamp(260px, 28vh, 320px);
  }
}

/* 全屏模式 - PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card {
    min-height: clamp(260px, 24vh, 320px);
    max-height: clamp(300px, 32vh, 360px);
  }
}

.aurora-post-grid-container > div:first-child .aurora-post-card:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  transform: translateY(-4px);
}

.dark .aurora-post-grid-container > div:first-child .aurora-post-card {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

.dark .aurora-post-grid-container > div:first-child .aurora-post-card:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
}

.aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
  min-height: clamp(120px, 15vh, 160px);
  max-height: clamp(140px, 18vh, 180px);
  border-radius: 0.75rem 0.75rem 0 0;
}

/* 全屏模式 - 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
    min-height: clamp(100px, 12vh, 140px);
    max-height: clamp(120px, 15vh, 160px);
  }
}

/* 全屏模式 - 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
    min-height: clamp(140px, 16vh, 180px);
    max-height: clamp(160px, 19vh, 200px);
  }
}

/* 全屏模式 - PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
    min-height: clamp(160px, 18vh, 200px);
    max-height: clamp(180px, 22vh, 220px);
  }
}

/* Banner 大卡片内容区域优化 - 全屏模式 */
.aurora-post-grid-container > div:first-child .aurora-post-card-content {
  padding: clamp(0.5rem, 1.2vw, 0.75rem);
  gap: clamp(0.375rem, 1vw, 0.5rem);
}

.aurora-post-grid-container > div:first-child .aurora-post-card-content .space-y-2\.5 {
  gap: clamp(0.375rem, 1vw, 0.5rem);
}

/* 全屏模式 - 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card-content {
    padding: clamp(0.5rem, 1vw, 0.625rem);
  }
}

/* 全屏模式 - PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:first-child .aurora-post-card-content {
    padding: clamp(0.75rem, 1.5vw, 1rem);
  }
}

/* 小卡片样式优化 - 全屏模式 */
.aurora-post-grid-container > div:last-child .aurora-post-card {
  min-height: clamp(160px, 18vh, 200px);
  max-height: clamp(200px, 22vh, 240px);
  border-radius: 0.5rem;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.06), 0 1px 2px -1px rgba(0, 0, 0, 0.03);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  height: 100%;
}

/* 全屏模式 - 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:last-child .aurora-post-card {
    min-height: clamp(140px, 16vh, 180px);
    max-height: clamp(180px, 20vh, 220px);
  }
}

/* 全屏模式 - 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:last-child .aurora-post-card {
    min-height: clamp(160px, 18vh, 200px);
    max-height: clamp(200px, 22vh, 240px);
  }
}

/* 全屏模式 - PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:last-child .aurora-post-card {
    min-height: clamp(180px, 20vh, 220px);
    max-height: clamp(220px, 24vh, 260px);
  }
}

.aurora-post-grid-container > div:last-child .aurora-post-card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  transform: translateY(-2px);
}

.dark .aurora-post-grid-container > div:last-child .aurora-post-card {
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
}

.dark .aurora-post-grid-container > div:last-child .aurora-post-card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
}

.aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
  min-height: clamp(80px, 10vh, 100px);
  max-height: clamp(100px, 12vh, 120px);
  border-radius: 0.5rem 0.5rem 0 0;
}

/* 全屏模式 - 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
    min-height: clamp(70px, 8vh, 90px);
    max-height: clamp(90px, 10vh, 110px);
  }
}

/* 全屏模式 - 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
    min-height: clamp(80px, 10vh, 100px);
    max-height: clamp(100px, 12vh, 120px);
  }
}

/* 全屏模式 - PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-full .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
    min-height: clamp(90px, 11vh, 110px);
    max-height: clamp(110px, 13vh, 130px);
  }
}

/* 图片内统计信息样式（覆盖在图片上） */
.aurora-post-stats-overlay {
  pointer-events: none; /* 允许点击穿透到图片链接 */
}

.aurora-post-stat-overlay {
  pointer-events: auto; /* 统计信息本身可以交互 */
  transition: all 0.2s ease;
}

.aurora-post-stat-overlay:hover {
  background: rgba(0, 0, 0, 0.7) !important;
  transform: scale(1.05);
}

/* 文章卡片图片占位符样式 */
.aurora-post-card-image-placeholder {
  background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
  position: relative;
}

.dark .aurora-post-card-image-placeholder {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
}

.aurora-post-card-image-placeholder::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0, 0, 0, 0.02) 10px, rgba(0, 0, 0, 0.02) 20px);
}

.dark .aurora-post-card-image-placeholder::before {
  background-image: 
    repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255, 255, 255, 0.02) 10px, rgba(255, 255, 255, 0.02) 20px);
}

/* 占位符链接和图标样式 - 根据容器大小自适应 */
.aurora-post-card-placeholder-link {
  min-height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.aurora-post-card-placeholder-icon {
  width: clamp(2rem, 8vw, 4rem);
  height: clamp(2rem, 8vw, 4rem);
  font-size: clamp(2rem, 8vw, 4rem);
  opacity: 0.5;
  transition: opacity 0.2s ease;
}

.aurora-post-card-placeholder-link:hover .aurora-post-card-placeholder-icon {
  opacity: 0.7;
}

/* 半屏状态下占位符图标优化 */
.aurora-top-banner-half .aurora-post-card-placeholder-icon,
.aurora-top-banner-third .aurora-post-card-placeholder-icon {
  width: clamp(1.5rem, 6vw, 3rem);
  height: clamp(1.5rem, 6vw, 3rem);
  font-size: clamp(1.5rem, 6vw, 3rem);
}

@media (min-width: 640px) {
  .aurora-top-banner-half .aurora-post-card-placeholder-icon,
  .aurora-top-banner-third .aurora-post-card-placeholder-icon {
    width: clamp(1.75rem, 7vw, 3.5rem);
    height: clamp(1.75rem, 7vw, 3.5rem);
    font-size: clamp(1.75rem, 7vw, 3.5rem);
  }
}

.aurora-post-grid-container > div:last-child .aurora-post-card-content {
  padding: 1rem;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.aurora-post-grid-container > div:last-child .aurora-post-title {
  font-size: 0.9375rem;
  line-height: 1.4;
  margin-bottom: 0.5rem;
}

.aurora-post-grid-container > div:last-child .aurora-post-excerpt {
  font-size: 0.8125rem;
  line-height: 1.5;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-bottom: 0.75rem;
}

.aurora-post-grid-container > div:last-child .aurora-post-meta {
  margin-top: auto;
  padding-top: 0.5rem;
  font-size: 0.75rem;
}

/* 确保小卡片网格高度一致 */
.aurora-post-grid-container > div:last-child {
  display: grid;
  grid-template-rows: repeat(2, 1fr);
  gap: 1rem;
}

@media (min-width: 640px) {
  .aurora-post-grid-container > div:last-child {
    gap: 1.25rem;
  }
}

@media (min-width: 1024px) {
  .aurora-post-grid-container > div:last-child {
    gap: 1.5rem;
  }
}

/* 响应式优化 */
@media (max-width: 639px) {
  .aurora-post-grid-container {
    grid-template-columns: 1fr !important; /* 移动端强制单列 */
  }
  
  .aurora-post-grid-container > div:last-child {
    grid-template-columns: 1fr !important;
    grid-template-rows: auto !important;
  }
  
  .aurora-post-grid-container > div:first-child .aurora-post-card {
    min-height: 320px;
  }
  
  .aurora-post-grid-container > div:last-child .aurora-post-card {
    min-height: 240px;
  }
}

/* 半屏和1/3屏状态下的网格布局优化 */
/* 确保网格布局正确：大卡片占3列，小卡片占2列（总共5列） */

/* 手机端：单列布局 */
@media (max-width: 639px) {
  .aurora-top-banner-half .aurora-post-grid-container,
  .aurora-top-banner-third .aurora-post-grid-container {
    grid-template-columns: 1fr;
  }
  
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child {
    grid-template-columns: 1fr;
  }
}

/* 平板和PC端：多列布局 */
@media (min-width: 640px) {
  /* 确保小卡片容器内部是2列网格 */
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child {
    grid-template-columns: repeat(2, 1fr) !important;
    grid-template-rows: repeat(2, 1fr) !important;
  }
  
  /* 半屏状态下，大卡片改为垂直布局（column），更紧凑 */
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card.direction-row,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card.direction-row {
    flex-direction: column !important;
  }
  
  /* 半屏状态下，大卡片的图片区域调整为全宽 */
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card.direction-row .aurora-post-card-image-wrapper,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card.direction-row .aurora-post-card-image-wrapper {
    width: 100% !important;
    min-width: 100% !important;
    aspect-ratio: 16 / 9;
  }
}

/* 半屏 Banner 状态下的文章网格优化 - 使用百分比自适应 */
.aurora-top-banner-half .aurora-post-grid-container,
.aurora-top-banner-third .aurora-post-grid-container {
  gap: clamp(0.375rem, 1vw, 0.5rem);
  padding-top: clamp(0.25rem, 1vh, 0.5rem);
  padding-bottom: clamp(0.25rem, 1vh, 0.5rem);
  /* 移除 max-height 和 overflow: hidden，避免内容被截断 */
}

@media (min-width: 640px) {
  .aurora-top-banner-half .aurora-post-grid-container,
  .aurora-top-banner-third .aurora-post-grid-container {
    gap: clamp(0.5rem, 1.2vw, 0.75rem);
    padding-top: clamp(0.375rem, 1.2vh, 0.75rem);
    padding-bottom: clamp(0.375rem, 1.2vh, 0.75rem);
  }
}

@media (min-width: 1024px) {
  .aurora-top-banner-half .aurora-post-grid-container,
  .aurora-top-banner-third .aurora-post-grid-container {
    gap: clamp(0.625rem, 1.5vw, 1rem);
  }
}

/* 半屏状态下大卡片优化 - 使用视口单位，进一步缩小 */
.aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card,
.aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card {
  min-height: clamp(150px, 18vh, 220px);
  max-height: clamp(200px, 25vh, 280px);
  border-radius: clamp(0.375rem, 1vw, 0.625rem);
}

/* 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card {
    min-height: clamp(140px, 16vh, 200px);
    max-height: clamp(180px, 22vh, 240px);
  }
}

/* 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card {
    min-height: clamp(170px, 20vh, 250px);
    max-height: clamp(220px, 26vh, 300px);
  }
}

/* PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card {
    min-height: clamp(200px, 22vh, 280px);
    max-height: clamp(260px, 28vh, 340px);
  }
}

.aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper,
.aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
  min-height: clamp(70px, 8vh, 100px);
  max-height: clamp(90px, 11vh, 130px);
  flex-shrink: 0;
}

/* 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
    min-height: clamp(60px, 7vh, 90px);
    max-height: clamp(80px, 10vh, 110px);
  }
}

/* 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
    min-height: clamp(80px, 9vh, 110px);
    max-height: clamp(100px, 12vh, 140px);
  }
}

/* PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper,
  .aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card-image-wrapper {
    min-height: clamp(90px, 11vh, 130px);
    max-height: clamp(110px, 14vh, 150px);
  }
}

.aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-card-content,
.aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-card-content {
  padding: clamp(0.5rem, 1.2vw, 0.75rem);
  flex: 1;
  min-height: 0; /* 允许内容区域收缩 */
}

.aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-title,
.aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-title {
  font-size: clamp(0.875rem, 2vw, 1.125rem);
  line-height: 1.4;
  margin-bottom: clamp(0.25rem, 0.8vh, 0.5rem);
  -webkit-line-clamp: 2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-excerpt,
.aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-excerpt {
  font-size: clamp(0.75rem, 1.8vw, 0.875rem);
  line-height: 1.5;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-bottom: clamp(0.25rem, 0.8vh, 0.5rem);
}

.aurora-top-banner-half .aurora-post-grid-container > div:first-child .aurora-post-meta,
.aurora-top-banner-third .aurora-post-grid-container > div:first-child .aurora-post-meta {
  font-size: clamp(0.625rem, 1.5vw, 0.75rem);
  padding-top: clamp(0.25rem, 0.8vh, 0.5rem);
}

/* 半屏状态下小卡片优化 - 使用视口单位，进一步缩小 */
.aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card,
.aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card {
  min-height: clamp(120px, 14vh, 180px);
  max-height: clamp(160px, 20vh, 220px);
  border-radius: clamp(0.375rem, 0.8vw, 0.5rem);
}

/* 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card {
    min-height: clamp(110px, 12vh, 160px);
    max-height: clamp(140px, 18vh, 200px);
  }
}

/* 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card {
    min-height: clamp(130px, 15vh, 190px);
    max-height: clamp(170px, 21vh, 230px);
  }
}

/* PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card {
    min-height: clamp(150px, 17vh, 210px);
    max-height: clamp(190px, 23vh, 250px);
  }
}

.aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper,
.aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
  min-height: clamp(50px, 6vh, 80px);
  max-height: clamp(70px, 9vh, 100px);
  flex-shrink: 0;
}

/* 手机端 */
@media (max-width: 639px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
    min-height: clamp(45px, 5vh, 70px);
    max-height: clamp(65px, 8vh, 90px);
  }
}

/* 平板端 */
@media (min-width: 640px) and (max-width: 1023px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
    min-height: clamp(55px, 6.5vh, 85px);
    max-height: clamp(75px, 9.5vh, 105px);
  }
}

/* PC端 */
@media (min-width: 1024px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card-image-wrapper {
    min-height: clamp(60px, 7vh, 90px);
    max-height: clamp(80px, 10vh, 110px);
  }
}

.aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-card-content,
.aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-card-content {
  padding: clamp(0.375rem, 1vw, 0.5rem);
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-title,
.aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-title {
  font-size: clamp(0.75rem, 1.8vw, 0.875rem);
  line-height: 1.35;
  margin-bottom: clamp(0.25rem, 0.6vh, 0.375rem);
  -webkit-line-clamp: 2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-excerpt,
.aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-excerpt {
  font-size: clamp(0.625rem, 1.5vw, 0.75rem);
  line-height: 1.4;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-bottom: clamp(0.25rem, 0.6vh, 0.5rem);
}

.aurora-top-banner-half .aurora-post-grid-container > div:last-child .aurora-post-meta,
.aurora-top-banner-third .aurora-post-grid-container > div:last-child .aurora-post-meta {
  font-size: clamp(0.5625rem, 1.3vw, 0.6875rem);
  padding-top: clamp(0.25rem, 0.6vh, 0.375rem);
}

/* 半屏状态下小卡片网格间距优化 - 使用百分比 */
.aurora-top-banner-half .aurora-post-grid-container > div:last-child,
.aurora-top-banner-third .aurora-post-grid-container > div:last-child {
  gap: clamp(0.5rem, 1.2vw, 0.75rem);
}

@media (min-width: 640px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child {
    gap: clamp(0.625rem, 1.5vw, 1rem);
  }
}

@media (min-width: 1024px) {
  .aurora-top-banner-half .aurora-post-grid-container > div:last-child,
  .aurora-top-banner-third .aurora-post-grid-container > div:last-child {
    gap: clamp(0.75rem, 1.8vw, 1.25rem);
  }
}

/* Grid 2 Layout - 两列网格布局 */
.aurora-post-list.grid-2 .aurora-post-card {
  min-height: 380px;
}

.aurora-post-list.grid-2 .aurora-post-card-image-wrapper {
  min-height: 200px;
}

/* Grid 3 Layout - 三列网格布局 */
.aurora-post-list.grid-3 .aurora-post-card {
  min-height: 360px;
}

.aurora-post-list.grid-3 .aurora-post-card-image-wrapper {
  min-height: 180px;
}

/* Grid 4 Layout - 四列网格布局 */
.aurora-post-list.grid-4 .aurora-post-card {
  min-height: 320px;
}

.aurora-post-list.grid-4 .aurora-post-card-image-wrapper {
  min-height: 140px;
}

.aurora-post-list.grid-4 .aurora-post-title {
  font-size: 1rem;
  line-height: 1.4;
}

.aurora-post-list.grid-4 .aurora-post-excerpt {
  font-size: 0.75rem;
  line-height: 1.5;
}

.aurora-post-list.grid-4 .aurora-post-meta {
  padding-top: 0.75rem;
  gap: 0.5rem;
}

.aurora-post-list.grid-4 .aurora-post-stat {
  padding: 0.25rem 0.5rem;
  font-size: 0.625rem;
}

/* Single Layout - 单条布局 */
.aurora-post-list.single .aurora-post-card {
  min-height: 280px;
}

.aurora-post-list.single .aurora-post-card-image-wrapper {
  min-height: 240px;
}

.aurora-post-list.single .aurora-post-title {
  font-size: 1.5rem;
  line-height: 1.4;
}

/* List Layout - 列表布局 */
.aurora-post-list.list .aurora-post-card {
  min-height: 160px;
  flex-direction: row;
}

.aurora-post-list.list .aurora-post-card-image-wrapper {
  width: 200px;
  min-width: 200px;
  height: 100%;
  aspect-ratio: auto;
}

.aurora-post-list.list .aurora-post-card-content {
  flex: 1;
  min-width: 0;
  padding: 1rem 1.5rem;
}

.aurora-post-list.list .aurora-post-title {
  font-size: 1.125rem;
  line-height: 1.5;
}

.aurora-post-list.list .aurora-post-excerpt {
  line-clamp: 1;
  -webkit-line-clamp: 1;
}

.aurora-post-list.list .aurora-post-meta {
  margin-top: 0.5rem;
  padding-top: 0.75rem;
}

/* Masonry Layout - 瀑布流布局 */
.aurora-post-list.masonry .aurora-post-card {
  break-inside: avoid;
  margin-bottom: 1.5rem;
  display: inline-block;
  width: 100%;
  min-height: 300px;
}

.aurora-post-list.masonry .aurora-post-card-image-wrapper {
  min-height: 180px;
}

/* Responsive Optimizations - 响应式优化 */
@media (max-width: 768px) {
  .aurora-top-banner {
    background-attachment: scroll;
  }

  .aurora-post-card {
    border-radius: 0.5rem;
  }

  .aurora-featured-post-card {
    border-radius: 0.75rem;
  }

  .aurora-post-list {
    gap: 1rem;
  }
}

/* Loading State - 加载状态 */
.aurora-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 3rem;
  opacity: 0.6;
}

.aurora-loading::after {
  content: '';
  width: 2rem;
  height: 2rem;
  border: 3px solid #e5e7eb;
  border-top-color: #16baaa;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.dark .aurora-loading::after {
  border-color: rgb(51, 65, 85);
  border-top-color: #60a5fa;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Smooth Scrolling - 平滑滚动 */
html {
  scroll-behavior: smooth;
}

/* Focus States - 焦点状态 */
.aurora-post-card a:focus,
.aurora-featured-post-card a:focus {
  outline: 2px solid #16baaa;
  outline-offset: 2px;
  border-radius: 0.25rem;
}

.dark .aurora-post-card a:focus,
.dark .aurora-featured-post-card a:focus {
  outline-color: #60a5fa;
}

/* ============================================
   Moments - 瞬间/动态样式
   ============================================ */

.aurora-moments-container {
  width: 100%;
  padding: 0;
}

.aurora-moments-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.aurora-moment-card {
  background: white;
  border-radius: 0.75rem;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.dark .aurora-moment-card {
  background: rgb(30, 41, 59);
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
}

.aurora-moment-card:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  transform: translateY(-2px);
}

.dark .aurora-moment-card:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
}

.aurora-moment-card-inner {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.25rem;
}

@media (max-width: 640px) {
  .aurora-moment-card-inner {
    padding: 1rem;
    gap: 0.75rem;
  }
}

.aurora-moment-avatar {
  width: 2.5rem;
  height: 2.5rem;
  min-width: 2.5rem;
  min-height: 2.5rem;
  flex-shrink: 0;
  border-radius: 50%;
  border: 2px solid rgb(229, 231, 235);
  object-fit: cover;
  transition: border-color 0.2s ease;
}

.dark .aurora-moment-avatar {
  border-color: rgb(51, 65, 85);
}

.aurora-moment-card:hover .aurora-moment-avatar {
  border-color: #16baaa;
}

.dark .aurora-moment-card:hover .aurora-moment-avatar {
  border-color: #60a5fa;
}

@media (max-width: 640px) {
  .aurora-moment-avatar {
    width: 2.25rem;
    height: 2.25rem;
    min-width: 2.25rem;
    min-height: 2.25rem;
  }
}

.aurora-moment-content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.aurora-moment-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.aurora-moment-author {
  font-size: 0.9375rem;
  font-weight: 600;
  color: rgb(17, 24, 39);
  line-height: 1.5;
}

.dark .aurora-moment-author {
  color: rgb(241, 245, 249);
}

.aurora-moment-time {
  font-size: 0.8125rem;
  color: rgb(107, 114, 128);
  line-height: 1.5;
}

.dark .aurora-moment-time {
  color: rgb(148, 163, 184);
}

.aurora-moment-text {
  font-size: 0.9375rem;
  line-height: 1.7;
  color: rgb(55, 65, 81);
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.dark .aurora-moment-text {
  color: rgb(226, 232, 240);
}

.aurora-moment-text :global(p) {
  margin: 0.5rem 0;
}

.aurora-moment-text :global(a) {
  color: #16baaa;
  text-decoration: underline;
  transition: color 0.2s ease;
}

.dark .aurora-moment-text :global(a) {
  color: #60a5fa;
}

.aurora-moment-text :global(a:hover) {
  color: #1e9fff;
}

.dark .aurora-moment-text :global(a:hover) {
  color: #93c5fd;
}

.aurora-moment-text :global(pre) {
  padding: 0;
  margin: 0.5rem 0;
  overflow-x: auto;
}

.aurora-moment-text :global(code) {
  font-size: 0.875em;
}

/* 媒体内容 */
.aurora-moment-media {
  display: grid;
  gap: 0.5rem;
  width: 100%;
  margin-top: 0.75rem;
}

.aurora-moment-media.media-single {
  grid-template-columns: 1fr;
}

.aurora-moment-media.media-double {
  grid-template-columns: repeat(2, 1fr);
}

.aurora-moment-media.media-triple {
  grid-template-columns: repeat(3, 1fr);
}

/* 桌面端：多张图片使用3列网格 */
.aurora-moment-media.media-multiple {
  grid-template-columns: repeat(3, 1fr);
}

/* 基础样式（所有设备通用） */
.aurora-moment-media-item {
  width: 100%;
  overflow: hidden;
  border-radius: 0.5rem;
  background: rgb(249, 250, 251);
  position: relative;
}

.dark .aurora-moment-media-item {
  background: rgb(51, 65, 85);
}

.aurora-moment-image {
  width: 100%;
  height: auto;
  object-fit: cover;
  border-radius: 0.5rem;
  cursor: pointer;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: block;
}

/* 移动端：朋友圈式图片排列 */
@media (max-width: 640px) {
  .aurora-moment-media {
    gap: 0.125rem;
    max-width: 100%;
  }

  /* 1张图片：单列，较大尺寸（类似朋友圈单图） */
  .aurora-moment-media.media-single {
    grid-template-columns: 1fr;
    max-width: 100%;
  }

  .aurora-moment-media.media-single .aurora-moment-media-item {
    aspect-ratio: 1;
    max-height: 60vh;
    max-width: 100%;
  }

  /* 2张图片：2列网格 */
  .aurora-moment-media.media-double {
    grid-template-columns: repeat(2, 1fr);
  }

  /* 3张图片：特殊处理，第一张占2/3，后两张占1/3 */
  .aurora-moment-media.media-triple {
    grid-template-columns: 2fr 1fr;
    grid-template-rows: repeat(2, 1fr);
  }

  .aurora-moment-media.media-triple .aurora-moment-media-item:first-child {
    grid-row: 1 / -1;
  }

  /* 4张图片：2x2网格 */
  .aurora-moment-media[data-media-count="4"] {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 1fr);
  }

  /* 5-6张图片：3列网格 */
  .aurora-moment-media[data-media-count="5"],
  .aurora-moment-media[data-media-count="6"] {
    grid-template-columns: repeat(3, 1fr);
  }

  /* 5张图片：第一张占2列 */
  .aurora-moment-media[data-media-count="5"] .aurora-moment-media-item:first-child {
    grid-column: 1 / 3;
    grid-row: 1 / 2;
  }

  /* 7-9张图片：3x3网格 */
  .aurora-moment-media[data-media-count="7"],
  .aurora-moment-media[data-media-count="8"],
  .aurora-moment-media[data-media-count="9"] {
    grid-template-columns: repeat(3, 1fr);
  }

  /* 移动端图片尺寸优化 - 强制正方形 */
  .aurora-moment-media-item {
    aspect-ratio: 1;
    overflow: hidden;
    position: relative;
  }

  /* 移动端：所有图片都强制正方形 */
  .aurora-moment-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    aspect-ratio: 1;
  }

  /* 移动端：单张图片允许更大尺寸 */
  .aurora-moment-media.media-single .aurora-moment-image {
    height: auto;
    max-height: 60vh;
    aspect-ratio: auto;
  }

  /* 视频在移动端也保持正方形 */
  .aurora-moment-video {
    aspect-ratio: 1;
  }
}

/* 桌面端样式：确保桌面端不受移动端影响 */
@media (min-width: 641px) {
  /* 桌面端：单张图片保持原始比例 */
  .aurora-moment-media.media-single .aurora-moment-media-item {
    aspect-ratio: auto;
    max-height: 70vh;
  }

  /* 桌面端：多张图片使用正方形 */
  .aurora-moment-media.media-double .aurora-moment-media-item,
  .aurora-moment-media.media-triple .aurora-moment-media-item,
  .aurora-moment-media.media-multiple .aurora-moment-media-item {
    aspect-ratio: 1;
  }

  /* 桌面端：图片样式重置 */
  .aurora-moment-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: block;
    aspect-ratio: auto;
  }

  /* 桌面端：单张图片保持原始比例 */
  .aurora-moment-media.media-single .aurora-moment-image {
    height: auto;
    max-height: 70vh;
    aspect-ratio: auto;
  }

  /* 桌面端：多张图片时，填充容器 */
  .aurora-moment-media.media-double .aurora-moment-image,
  .aurora-moment-media.media-triple .aurora-moment-image,
  .aurora-moment-media.media-multiple .aurora-moment-image {
    height: 100%;
    aspect-ratio: 1;
    object-fit: cover;
  }

  /* 桌面端：视频保持16:9比例 */
  .aurora-moment-video {
    aspect-ratio: 16 / 9 !important;
  }
}

.aurora-moment-image:hover {
  transform: scale(1.03);
}

.aurora-moment-video {
  position: relative;
  aspect-ratio: 16 / 9;
  cursor: pointer;
  overflow: hidden;
  border-radius: 0.5rem;
  background: rgb(243, 244, 246);
}

.dark .aurora-moment-video {
  background: rgb(51, 65, 85);
}

.aurora-moment-video-preview {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0.5rem;
}

.aurora-moment-video-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
  transition: background 0.2s ease;
}

.aurora-moment-video-overlay:hover {
  background: rgba(0, 0, 0, 0.4);
}

/* 操作栏 */
.aurora-moment-actions {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid rgb(243, 244, 246);
}

.dark .aurora-moment-actions {
  border-top-color: rgb(51, 65, 85);
}

@media (max-width: 640px) {
  .aurora-moment-actions {
    gap: 1rem;
  }
}

.aurora-moment-action-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.875rem;
  color: rgb(107, 114, 128);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  padding: 0.25rem 0.5rem;
  border-radius: 0.375rem;
}

.dark .aurora-moment-action-btn {
  color: rgb(148, 163, 184);
}

.aurora-moment-action-btn:hover {
  background: rgba(0, 0, 0, 0.05);
}

.dark .aurora-moment-action-btn:hover {
  background: rgba(255, 255, 255, 0.05);
}

.aurora-moment-like-btn:hover {
  color: rgb(220, 38, 38);
}

.dark .aurora-moment-like-btn:hover {
  color: rgb(248, 113, 113);
}

.aurora-moment-like-btn.aurora-moment-liked {
  color: rgb(220, 38, 38);
}

.dark .aurora-moment-like-btn.aurora-moment-liked {
  color: rgb(248, 113, 113);
}

.aurora-moment-comment-btn:hover {
  color: #16baaa;
}

.dark .aurora-moment-comment-btn:hover {
  color: #60a5fa;
}

.aurora-moment-comment-btn.aurora-moment-comment-active {
  color: #16baaa;
}

.dark .aurora-moment-comment-btn.aurora-moment-comment-active {
  color: #60a5fa;
}

/* 评论区域 */
.aurora-moment-comments {
  margin-top: 0.75rem;
  padding: 1rem;
  border-radius: 0.5rem;
  background: rgb(249, 250, 251);
}

.dark .aurora-moment-comments {
  background: rgba(30, 41, 59, 0.5);
}

/* 分页 */
.aurora-moments-pagination {
  margin-top: 2rem;
  padding-top: 1.5rem;
}

/* 响应式优化 */
@media (max-width: 768px) {
  .aurora-moments-list {
    gap: 1.25rem;
  }

  .aurora-moment-card {
    border-radius: 0.625rem;
  }
}

@media (max-width: 640px) {
  .aurora-moments-list {
    gap: 1rem;
  }

  .aurora-moment-header {
    gap: 0.5rem;
  }

  .aurora-moment-author {
    font-size: 0.875rem;
  }

  .aurora-moment-time {
    font-size: 0.75rem;
  }

  .aurora-moment-text {
    font-size: 0.875rem;
    line-height: 1.6;
  }
}

/* ============================================
   Timeline - 时间线样式
   ============================================ */

.aurora-timeline {
  position: relative;
  padding-left: 2rem;
}

.aurora-timeline-item {
  position: relative;
  padding-bottom: 2rem;
  margin-bottom: 1.5rem;
  min-height: 60px;
}

.aurora-timeline-item:last-child {
  padding-bottom: 0;
  margin-bottom: 0;
}

/* 日视图：每个文章都是独立的时间线项，间距可以更紧凑 */
.aurora-timeline-item:has(.aurora-timeline-post) {
  padding-bottom: 1.5rem;
  margin-bottom: 1rem;
}

.aurora-timeline-item:last-child .aurora-timeline-line {
  display: none;
}

.aurora-timeline-marker {
  position: absolute;
  left: -2rem;
  top: 0.25rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 0.75rem;
  z-index: 1;
}

.aurora-timeline-dot {
  width: 0.75rem;
  height: 0.75rem;
  min-width: 0.75rem;
  min-height: 0.75rem;
  border-radius: 50%;
  background: #93c5fd;
  border: 2px solid white;
  box-shadow: 0 0 0 1px #bfdbfe;
  z-index: 2;
  transition: all 0.3s ease;
  flex-shrink: 0;
  position: relative;
  top: 0.25rem;
}

.dark .aurora-timeline-dot {
  background: #60a5fa;
  border-color: rgb(30, 41, 59);
  box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.3);
}

.aurora-timeline-item:hover .aurora-timeline-dot {
  transform: scale(1.2);
  box-shadow: 0 0 0 2px rgba(147, 197, 253, 0.3);
}

.dark .aurora-timeline-item:hover .aurora-timeline-dot {
  box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.4);
}

.aurora-timeline-line {
  width: 2px;
  background: #d1d5db;
  position: absolute;
  top: 0.75rem;
  left: 50%;
  transform: translateX(-50%);
  bottom: -1rem;
  height: calc(100% + 10rem);
  min-height: 2rem;
}

.dark .aurora-timeline-line {
  background: rgb(71, 85, 105);
}

.aurora-timeline-label {
  margin-bottom: 0.75rem;
  position: relative;
  z-index: 1;
}

.aurora-timeline-label h2 {
  font-size: 0.9375rem;
  line-height: 1.5;
  margin: 0;
  font-weight: 600;
  color: rgb(55, 65, 81);
}

.dark .aurora-timeline-label h2 {
  color: rgb(241, 245, 249);
}

.aurora-timeline-content {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  position: relative;
  z-index: 1;
}

.aurora-timeline-post {
  padding: 1rem 1.25rem;
  border-radius: 0.625rem;
  transition: all 0.2s ease;
  border-left: 3px solid transparent;
  margin-bottom: 0.5rem;
  background: rgba(249, 250, 251, 0.6);
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.dark .aurora-timeline-post {
  background: rgba(30, 41, 59, 0.4);
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
}

.aurora-timeline-post:hover {
  background: rgba(22, 186, 170, 0.08);
  border-left-color: #16baaa;
  transform: translateX(4px);
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
}

.dark .aurora-timeline-post:hover {
  background: rgba(96, 165, 250, 0.15);
  border-left-color: #60a5fa;
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3);
}

.aurora-timeline-post-date {
  min-width: 3.5rem;
  text-align: right;
  padding-top: 0.125rem;
}

.aurora-timeline-post-title {
  display: block;
  font-size: 1rem;
  line-height: 1.6;
  transition: all 0.2s ease;
  font-weight: 500;
  margin-bottom: 0.5rem;
  color: rgb(17, 24, 39);
}

.dark .aurora-timeline-post-title {
  color: rgb(241, 245, 249);
}

.aurora-timeline-post-title:hover {
  text-decoration: underline;
  color: #16baaa;
}

.dark .aurora-timeline-post-title:hover {
  color: #60a5fa;
}

/* 响应式优化 */
@media (max-width: 768px) {
  .aurora-timeline {
    padding-left: 1.5rem;
  }

  .aurora-timeline-marker {
    left: -1.5rem;
  }

  .aurora-timeline-dot {
    width: 0.625rem;
    height: 0.625rem;
  }

  .aurora-timeline-post-date {
    min-width: 3rem;
    font-size: 0.75rem;
  }

  .aurora-timeline-post-title {
    font-size: 0.875rem;
  }
  
  .aurora-timeline-label h2 {
    font-size: 0.875rem;
  }
}

/* ============================================
   Popular Posts Widget - 热门文章组件
   ============================================ */

.aurora-popular-post-item {
  border-bottom: 1px solid rgb(243, 244, 246);
  transition: background-color 0.2s ease;
}

.dark .aurora-popular-post-item {
  border-bottom-color: rgb(51, 65, 85);
}

.aurora-popular-post-item:hover {
  background-color: rgba(59, 130, 246, 0.05);
}

.dark .aurora-popular-post-item:hover {
  background-color: rgba(96, 165, 250, 0.1);
}

.aurora-popular-post-item:last-child {
  border-bottom: none;
}

.aurora-popular-post-content {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1rem;
  width: 100%;
}

.aurora-popular-post-main {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.aurora-popular-post-title {
  line-height: 1.5;
  font-size: 0.875rem;
  font-weight: 500;
  margin: 0;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
}

.aurora-popular-post-title a {
  color: rgb(17, 24, 39);
  text-decoration: none;
  transition: color 0.2s ease;
  display: block;
}

.dark .aurora-popular-post-title a {
  color: rgb(241, 245, 249);
}

.aurora-popular-post-title a:hover {
  color: #16baaa;
  text-decoration: underline;
}

.dark .aurora-popular-post-title a:hover {
  color: rgb(96, 165, 250);
}

.aurora-popular-post-date {
  font-size: 0.75rem;
  color: rgb(107, 114, 128);
  margin: 0;
  font-variant-numeric: tabular-nums;
}

.dark .aurora-popular-post-date {
  color: rgb(148, 163, 184);
}

.aurora-popular-post-views {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem;
  color: rgb(107, 114, 128);
  flex-shrink: 0;
  white-space: nowrap;
  margin-left: auto;
}

.dark .aurora-popular-post-views {
  color: rgb(148, 163, 184);
}

.aurora-popular-post-views span:first-child {
  font-size: 0.875rem;
}

.aurora-popular-post-views span:last-child {
  font-variant-numeric: tabular-nums;
  min-width: 2ch;
  text-align: right;
}

